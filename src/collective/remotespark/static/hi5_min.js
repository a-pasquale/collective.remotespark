if("undefined"===typeof hi5)var hi5={};hi5.init={inited:!1,funcs:[],push:function(a){hi5.init.funcs.push(a)},start:function(){if(!hi5.init.inited){hi5.init.inited=!0;for(var a=hi5.init.funcs,c=0,d=a.length;c<d;c++)a[c]()}}};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Number.prototype.toByte=function(){var a=this&255;return 127<a?a-256:a};
String.prototype.applyArgs=function(a){for(var c=this.split("%"),d,e,b=c[0],f=1,g=c.length;f<g;f++){d=c[f];var h=parseInt(d,10);isNaN(h)?b+=d:(e=d.substring((h+"").length),(d=a[h-1])&&(b+=d),b+=e)}return b};Array.prototype.removeElm=function(a){a=this.indexOf(a);-1!==a&&this.splice(a,1)};Array.prototype.fill=function(a){for(var c=this.length;0<=--c;)this[c]=a};
Date.prototype.getStdTimezoneOffset=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())};hi5.WebSocket=window.WebSocket||window.MozWebSocket;hi5.$=function(a){return document.getElementById(a)};hi5.Arrays={fill:function(a,c,d,e){for(;c<d;c++)a[c]=e},arraycopy:function(a,c,d,e,b){for(var f=0;f<b;f++)d[e+f]=a[c+f]}};
hi5.callback={callbacks:{},no:0,put:function(a){var c="CB"+this.no++;this.callbacks[c]=a;return c},get:function(a){var c=this.callbacks[a];c&&delete this.callbacks[a];return c}};
hi5.tool={isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},getMousePos:function(a){var c=0,d=0;a||(a=window.event);a.pageX?(c=a.pageX,d=a.pageY):a.clientX&&(c=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);return{x:c,y:d}},getPos:function(a){var c=0,d=0;if(a.offsetParent){do c+=a.offsetLeft,d+=a.offsetTop;while(a=a.offsetParent)}return{x:c,y:d}},bytesToSize:function(a){if(isNaN(a))return"";
var c=Math.floor(Math.log(+a)/Math.log(2));1>c&&(c=0);c=Math.floor(c/10);a=+a/Math.pow(2,10*c);a.toString().length>a.toFixed(3).toString().length&&(a=a.toFixed(3));return a+" bytes; KB; MB; GB; TB; PB; EB; ZB; YB".split(";")[c]},queryToObj:function(a){a||(a=location.search.substring(1));var c={};if(a){a=a.split("&");for(var d=a.length,e=0;e<d;e++){var b=a[e].split("=");c[b[0]]=decodeURIComponent(b[1])}}return c},replaceQuery:function(a,c,d){var e=a.indexOf(c+"="),b=!1;if(0<e&&(e=a.charAt(e-1),"&"===
e||"?"===e))b=!0;return!b?a+="&"+c+"="+d:a.replace(RegExp("[\\?&]"+c+"=([^&#]*)"),function(a){return a.charAt(0)+c+"="+encodeURIComponent(d)})},disableInput:function(){var a=document.createElement("div");a.style.position="fixed";a.style.left=0;a.style.top=0;a.style.width="100%";a.style.height="100%";a.style.zIndex=99999;a.style.background="url(spinner.gif) no-repeat center center";document.body.appendChild(a);window.__hi5_bk=a},enableInput:function(){window.__hi5_bk&&(document.body.removeChild(window.__hi5_bk),
window.__hi5_bk=null)},scale:function(a,c,d,e){d||(d=0);e||(e=0);d=d+" "+e;a.style.transformOrigin=d;a.style.MozTransformOrigin=d;a.style.webkitTransformOrigin=d;a.style.msTransformOrigin=d;a.style.OTransformOrigin=d;c="scale("+c+")";a.style.transform=c;a.style.MozTransform=c;a.style.webkitTransform=c;a.style.msTransform=c;a.style.OTransform=c},openWebSocket:function(a,c,d){var e=!1;d&&(d=hi5.callback.put(d),a+="&callback="+d);var b=new hi5.WebSocket(a);b.onopen=function(){e=!0;c&&b.send(c)};b.onclose=
function(){e||alert(__svi18n.errorCode.connection)};b.onmessage=function(a){a=JSON.parse(a.data);b.close();a.callback?hi5.callback.get(a.callback)(a):console.log(a)};return b},getChildNodesByTag:function(a,c){for(var d=a.childNodes,e=[],b=0,f=d.length;b<f;b++)d[b].nodeName.toLowerCase()===c&&e.push(d[b]);return e},hasProperty:function(a,c){return c in a||c in a.prototype?!0:c in(a.__proto__||a.constructor.prototype)},isCapslock:function(a){var c=String.fromCharCode(a.keyCode||a.which);return c.toUpperCase()===
c&&c.toLowerCase()!==c&&!a.shiftKey?!0:!1}};
hi5.browser=function(){var a=navigator.userAgent,a={isTouch:"createTouch"in document||-1!==a.indexOf("Mobile"),isFirefox:-1!==a.indexOf("Firefox"),isOpera:-1!==a.indexOf("Opera"),isRIM:-1!==a.indexOf(" RIM "),isChrome:-1!==a.indexOf("Chrome"),isMacOS:-1!==a.indexOf("Mac OS"),isiOS:navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1,isSafari:-1===a.indexOf("Chrome")&&-1!==a.indexOf("Safari")};a.isMultitask=!(a.isTouch&&a.isMacOS);a.binaryWS=function(a){if(hi5.tool.hasProperty(hi5.WebSocket,"binaryType")||
hi5.browser.isChrome)return!0;var d=!1;try{var e=new hi5.WebSocket(a||"ws://localhost"),d="binaryType"in e;e.close()}catch(b){}return d};a.cookie2Obj=function(){var a=document.cookie,d={},e;if(""===a)return d;for(var b=a.split(";"),f=0,g=b.length;f<g;f++){for(var h=b[f];" "===h.charAt(0);)h=h.substring(1,h.length);a=h.indexOf("=");if(0<a){e=decodeURIComponent(h.substring(a+1).replace(/\+/g," "));hi5.tool.isNumber(e)&&(e=parseFloat(e));if("true"===e||"on"===e)e=!0;else if("false"===e||"off"===e)e=
!1;d[h.substring(0,a)]=e}}return d};a.getLibPath=function(a){for(var d=document.getElementsByTagName("script"),e,b,f=null,g=d.length,h=0;h<g;h++)if(b=d[h].src,e=b.indexOf(a),-1<e){f=b.substring(0,e);break}return f};a.loadJS=function(a){0>a.indexOf("/")&&(a=hi5.libPath+a);getLibPath(a)||document.writeln('<script type="text/javascript" src="'+a+'">\x3c/script>')};a.formToObj=function(a,d){var e=a.elements,b,f,g,h=e.length;d||(d={});for(var k=0;k<h;k++){b=e[k];g=b.name;f=b.type;switch(f){case "button":continue;
case "checkbox":b=b.checked;break;case "raido":if(!b.checked)continue;b=b.checked;break;case "number":parseFloat(b.value);default:b=b.value}""!==b&&(d[g]=b)}return d};a.objToForm=function(a,d){var e,b,f=d.elements,g;for(g in a)if(e=f[g])b=a[g],"boolean"===typeof b?e.checked=b:e.value=b};a.getScale=function(){return document.documentElement.clientWidth/window.innerWidth};return a}();hi5.libPath=hi5.browser.getLibPath("hi5_min.js");hi5.libPath||(hi5.libPath=hi5.browser.getLibPath("hi5.js"));
hi5.EventControl=function(a){a.addEvent=function(c,d){if(!a[c]||!a[c]._evt_listeners)a[c]=function(){a.fireEvent(c,arguments)},a[c]._evt_listeners=[];a[c]._evt_listeners.push(d)};a.removeEvent=function(c,d){if(!a[c]&&!a[c]._evt_listeners)return!1;var e=a[c]._evt_listeners,b=e.indexOf(d);return-1<b?(e.removeElm(b),!0):!1};a.fireEvent=function(c,d){if(a[c]&&a[c]._evt_listeners){var e=a[c]._evt_listeners;d||(d=[]);for(var b=0,f=e.length;b<f;b++)e[b].apply(a,d)}};return a};
hi5.Dragable=function(a){function c(b){b.preventDefault&&b.preventDefault();b.touches&&(b=1===b.touches.length?b.touches[0]:b.changedTouches[0]);b=e(b);var c=b.y-d.y;a.style.left=a.offsetLeft+(b.x-d.x)+"px";a.style.top=a.offsetTop+c+"px";d.x=b.x;d.y=b.y}a.draggable=!0;var d={},e=hi5.tool.getMousePos,b=hi5.browser.isTouch;a.addEventListener(b?"touchstart":"dragstart",function(a){a.stopPropagation&&a.stopPropagation();a.touches&&(a=a.touches[0]);d=e(a)},!1);a.addEventListener(b?"touchend":"dragend",
function(b){b.stopPropagation&&b.stopPropagation();if(!b.touches){b=e(b);var c=b.y-d.y;a.style.left=a.offsetLeft+(b.x-d.x)+"px";a.style.top=a.offsetTop+c+"px"}},!1);b&&a.addEventListener("touchmove",c,!1);return a};
hi5.Fadable=function(a,c,d){function e(){document.activeElement===a.activeObj?setTimeout(e,h):a.style.display="none"}function b(){a.beforeDisplay&&a.beforeDisplay();a.style.display=g;j&&(null!==k&&clearTimeout(k),k=setTimeout(e,h))}0>a.tabIndex&&(a.tabIndex=999);var f=d||document,g=a.style.display,h=c||3E3,k=null,j=!0;a.setFadable=function(c){(j=c)?f.addEventListener(hi5.browser.isTouch?"touchend":"mouseup",b,!1):a.style.display=g};a.startFade=b};
hi5.Toolbar=function(){var a=document.createElement("div");a.className="toolbar";a.addButton=function(c,d){var e=document.createElement("img");0>c.indexOf("/")&&(c=hi5.libPath+c);e.src=c;e.onclick=d;a.appendChild(e);return e};a.removeButton=function(c){for(var d=a.getElementsByTagName("img"),e=d.length,b=0;b<e;b++)if(0<=d[b].src.indexOf(c)){a.removeChild(d[b]);1===e&&a.parentNode.removeChild(a);break}};return a};
hi5.ProgressBar=function(a){a.progress=0;a.maxValue=0;var c=a.getElementsByTagName("div")[0];a.setProgress=function(d){d=Math.floor(100*(d/a.maxValue));d!==a.progress&&(a.progress=d,c.style.width=d/100*a.offsetWidth+"px")};return a};
hi5.Lightbox=function(a,c,d){function e(){var c=b.clientWidth,d=b.clientHeight,e=a.offsetWidth,f=a.offsetHeight;e>0.96*c&&(e=0.96*c,a.style.width=e+"px");f>0.96*d&&(f=0.96*d,a.style.height=f+"px",a.style.width=a.offsetWidth+22+"px");c=(c-e)/2;d=(d-f)/3;a.style.left=c+"px";a.style.top=d+"px";g.style.left=c+a.offsetWidth-6+"px";g.style.top=d-6+"px"}var b=document.createElement("div");b.style.position="fixed";b.style.left=0;b.style.top=0;b.style.width="100%";b.style.height="100%";b.style.zIndex=999;
b.style.backgroundColor=d?d:"#222";c||(c=0.4);1>c&&(b.style.opacity=c);var f=a.style.display;a.style.position="absolute";a.style.zIndex=1E3;a.style.visibility="hidden";var g=document.createElement("div");g.style.position="absolute";c=document.createElement("img");c.width=25;c.height=25;c.src=hi5.appcfg&&hi5.appcfg.img&&hi5.appcfg.img.close?hi5.appcfg.img.close:hi5.libPath+"del.png";c.style.cursor="pointer";g.style.zIndex=10001;c.align="top";g.appendChild(c);a.resize=e;a.show=function(){var c=document.body;
c.appendChild(b);c.appendChild(g);a.style.display="block";a.style.visibility="visible";e()};a.visible=function(){return a&&"visible"===a.style.visibility};a.dismiss=function(c){function d(){var c=document.body;c.removeChild(b);c.removeChild(g);a.style.display=f;a.style.visibility="hidden";if(a.onclose)a.onclose()}"number"===typeof c?setTimeout(d,c):d()};a.background=b;c.addEventListener("click",a.dismiss,!1);return a};
hi5.DataTable=function(a){hi5.EventControl(a);"string"===typeof a&&(a=JSON.parse(a));var c=a.rows,d=a.cols;a.rowNo=-1;a.beforeGetValue=null;a.moveTo=function(c){a.rowNo=c};a.getColNo=function(a){for(var b=0,c=d.length;b<c;b++)if(d[b].name===a)return b;return-1};a.getValue=function(d){var b=c[a.rowNo][d];return!a.beforeGetValue?b:a.beforeGetValue(d,b)};a.setValue=function(d,b){c[a.rowNo][d]=b;a.fireEvent("onchange",[d,a.rowNo,b])};a.first=function(){a.moveTo(0)};a.next=function(){a.moveTo(a.rowNo+
1)};a.last=function(){a.moveTo(c.length-1)};a.hasNext=function(){return a.rowNo<c.length-1};a.remove=function(d){d||(d=a.rowNo);var b=[d];a.fireEvent("beforeremove",b);c.splice(d,1);a.fireEvent("onremove",b)};a.perform=function(c){"function"===typeof a[c]?a[c].apply(a):a.fireEvent("onaction",[c])};a.fireEvent("onopen");return a};
hi5.DataGrid=function(a){function c(c){var b=this.rowIndex;"number"===typeof b&&(d=b-=a.tHead.rows.length,a.dataTable.moveTo(b));if(a.onrowclick)a.onrowclick(c)}if("TABLE"!==a.nodeName)throw"Not HTML Table";a.dataTable=null;a.onrowclick=null;var d=-1;a.getValue=function(c){var b=a.dataTable;b.moveTo(d);return b.getValue(b.getColNo(c))};a.fillData=function(e){var b=e.rows,f=e.cols.length,g=a.tBodies[0],h,k,j,m;a._rowTemp||(a._rowTemp=a.tBodies[0].rows[0].cloneNode(!0));m=a._rowTemp;var l,n=g.cloneNode(!1),
p;k=b.length;for(h=0;h<k;h++){l=m.cloneNode(!0);p=l.cells;e.moveTo(h);for(b=0;b<f;b++)j=e.getValue(b),a.beforeDisplayValue&&(j=a.beforeDisplayValue(b,j)),p[b].innerHTML=j;d=h;l.addEventListener("click",c,!1);a.beforeAppendRow&&a.beforeAppendRow(l);n.appendChild(l)}a.removeChild(g);a.appendChild(n)};a.open=function(){function c(b){var d=a.tBodies[0];(b=d.rows[b])&&d.removeChild(b)}a.dataTable&&(a.fillData(a.dataTable),a.dataTable.addEvent("onremove",c))};return a};
hi5.Select=function(a){var c=a.parentNode,d=document.createElement("div");d.style.padding="0";d.style.display="inline";c.insertBefore(d,a);var e=document.createElement("img");e.src="select.png";e.height=a.offsetHeight;e.style.verticalAlign="-6px";d.appendChild(a);d.appendChild(e);var b=document.createElement("select"),c=a.getAttribute("hi5_size");b.size=c?c:10;if(c=a.getAttribute("hi5_list"))if(c=c.split(";"),d=c.length,0<d)for(var f=b.options,g=0;g<d;g++)f[g]=new Option(c[g]);b.style.position="absolute";
b.style.zIndex=99999;b.style.display="none";document.body.appendChild(b);a.show=function(){a.beforedropdown&&a.beforedropdown(a);b.style.display="";b.focus()};a.hide=function(){b.style.display="none";a.focus()};e.onclick=function(){if("none"===b.style.display){if(0===b.options.length){var c=a.getAttribute("onfetchlist");c&&eval(c)}c=hi5.tool.getPos(a);b.style.left=c.x+"px";b.style.top=c.y+a.offsetHeight+"px";b.style.width=a.offsetWidth+e.width+3+"px";a.show()}else a.hide()};b.onchange=function(){a.value=
b.value;b.style.display="none";if(a.onchange)a.onchange()};a.options=b.options;return a};hi5.init.push(function(){for(var a=document.getElementsByClassName("Hi5Select"),c=a.length,d=0;d<c;d++)new hi5.Select(a[d])});
hi5.Tab=function(a){function c(b){var c=f;f!==b&&(g[f].className="tab_back",h[f].className="tab_hide",f=b);g[b].className="tab_front";h[b].className="tab_show";g[b].focus();c!==b&&a.fireEvent("ontabchange",[b,c])}function d(a){a=g.indexOf(a.target);-1!==a&&c(a)}hi5.EventControl(a);for(var e=a.getElementsByClassName("tab")[0].getElementsByClassName("tab_title")[0].childNodes,b=e.length,f=0,g=[],h=[],k=0;k<b;k++){var j=e[k];"SPAN"===j.nodeName.toUpperCase()&&(j.className="tab_back",j.onclick=d,j.onfocus=
d,g[g.length]=j)}e=a.getElementsByClassName("tab_body")[0].childNodes;b=e.length;for(k=0;k<b;k++)j=e[k],"DIV"===j.nodeName.toUpperCase()&&(h[h.length]=j,j.className="tab_hide");c(f);a.setSelected=c;a.getSelected=function(){return f};return a};hi5.init.push(function(){for(var a=document.getElementsByClassName("tab_all"),c=a.length,d=0;d<c;d++)new hi5.Tab(a[d])});hi5.graphic={};
hi5.graphic.Rectangle=function(a,c,d,e){this.x=a;this.y=c;this.width=d;this.height=e;var b=this;this.union=function(a,c,d,e){var j=b.width,m=b.height;if(0>(j|m))b.x=a,b.y=c,b.width=d,b.height=e;else if(!(0>(d|e))){var l=b.x,n=b.y,j=j+l,m=m+n;d+=a;e+=c;l>a&&(l=a);n>c&&(n=c);j<d&&(j=d);m<e&&(m=e);b.x=l;b.y=n;b.width=j-l;b.height=m-n}};this.intersection=function(a,c,d,e,j){var m=b.x,l=b.y,n;n=m+b.width;var p;p=l+b.height;d=a+d;e=c+e;m<a&&(m=a);l<c&&(l=c);n>d&&(n=d);p>e&&(p=e);n-=m;p-=l;return j?(j.x=
m,j.y=l,j.width=n,j.height=p,j):new hi5.graphic.Rectangle(m,l,n,p)};this.isEmpty=function(){return 0>=b.width||0>=b.height}};
hi5.init.push(function(){function a(d){function e(a,c){g=document.createElement("img");g.src=hi5.libPath+a;g.className="hi5_notifer_button";g.onclick=function(a){c.apply(b,[a])};return g}var b=document.createElement("div");b.className="hi5_notifer";var f=document.createElement("div");f.className="hi5_notifer_title";var g,h=document.createElement("img");h.src=hi5.libPath+"info.png";h.className="hi5_notifer_icon";f.appendChild(h);f.appendChild(document.createTextNode(d.title?d.title:""));b.appendChild(f);
f=document.createElement("div");f.appendChild(document.createTextNode(d.msg));b.countNode=document.createElement("span");b.countNode.className="hi5_notifer_count";f.appendChild(b.countNode);d.cbNo&&f.appendChild(e("del.png",d.cbNo));d.cbYes&&f.appendChild(e("ok.png",d.cbYes));b.title=d.title;b.message=d.msg;b.msgCount=1;b.addCount=function(){b.msgCount++;b.countNode.innerHTML="("+b.msgCount+")"};b.appendChild(f);b.destroy=function(){if(b.parentNode){b.parentNode.removeChild(b);var d=c.notifyPool.shift();
if(d)c.appendChild(new a(d));else if(c.onempty&&0===c.notifySize())c.onempty()}};d.timeout&&setTimeout(function(){b.destroy()},d.timeout);!d.cbYes&&!d.cbNo&&(b.onclick=b.destroy);return b}var c=hi5.$("hi5_notifer_all");c||(c=document.createElement("div"),c.id="hi5_notifer_all",document.body.appendChild(c));c.notifyPool=[];c.getNotifier=function(a,e){for(var b=c.getElementsByTagName("div"),f=0,g=b.length;f<g;f++)if(b[f].title===a&&b[f].message===e)return b[f];return null};c.notify=function(d){var e=
c.getNotifier(d.title,d.msg);e?e.addCount():3>hi5.tool.getChildNodesByTag(c,"div").length?c.appendChild(new a(d)):c.notifyPool.push(d)};c.notifySize=function(){return hi5.tool.getChildNodesByTag(c,"div").length};hi5.notifications=c});document.addEventListener("DOMContentLoaded",hi5.init.start,!1);
